# Phoenix Trading System - 문서 가이드

**작성일**: 2026-01-24
**버전**: v4.1
**목적**: 시스템 문서 통합 인덱스

---

## 📚 문서 목록

### 1. [코드베이스 아키텍처](CODEBASE_ARCHITECTURE.md)
**400+ 줄 | 종합 기술 문서**

시스템의 전체 아키텍처를 상세히 설명합니다.

**포함 내용**:
- ✅ 시스템 개요 및 핵심 목적
- ✅ 프로젝트 구조 (폴더/파일 설명)
- ✅ 5개 핵심 컴포넌트 상세 분석
  - PhoenixTradingSystem (697줄)
  - GridEngine (747줄)
  - ExcelBridge (498줄)
  - KisRestAdapter (1101줄)
  - Models (142줄)
- ✅ 거래 전략 알고리즘 (예시 포함)
- ✅ 데이터 흐름 다이어그램
- ✅ 주요 기술 스택
- ✅ 보안 및 에러 처리
- ✅ 종합 평가 및 개선 권장 사항

**대상 독자**: 개발자, 시스템 관리자, 코드 리뷰어

---

### 2. [실행 시나리오 스토리](EXECUTION_SCENARIOS.md)
**500+ 줄 | 실전 시뮬레이션**

실제 거래 상황을 6개 시나리오로 시뮬레이션합니다.

**시나리오 목록**:
1. **첫 실행 및 정상 거래 흐름**
   - 19:00 시스템 시작 → 23:30 장 개장 → 첫 매수 체결
   - Excel 설정, KIS API 인증, 시세 조회, 주문 실행
   - 상세 타임라인 (초 단위)

2. **급락 상황 - 배치 매수**
   - -4% 급락 시 8개 티어 동시 매수
   - 부분 체결 처리 로직 검증

3. **갭 상승 - Tier 1 커스텀 모드**
   - +3.5% 갭 상승 시 Tier 1 진입
   - 갭 이득 확보 전략

4. **에러 복구 시나리오**
   - Excel 파일 잠금
   - KIS API 토큰 만료
   - API Rate Limiting
   - 주문 체결 타임아웃
   - 네트워크 에러

5. **장 마감 및 재시작**
   - 주말 마감 감지
   - 사용자 수동 종료 (Ctrl+C)
   - 월요일 재시작

6. **수익 실현 및 Tier 1 갱신**
   - 배치 매도 → 전체 청산
   - Tier 1 자동 갱신
   - 수익 계산 상세

**대상 독자**: 운영자, 거래 전략 분석가, QA 엔지니어

---

### 3. [타임라인 다이어그램](TIMELINE_DIAGRAMS.md)
**12개 다이어그램 | 시각적 플로우**

Mermaid 다이어그램으로 시스템 동작을 시각화합니다.

**다이어그램 목록**:
1. **시스템 초기화 시퀀스**
   - User → Main → Excel → Grid → KIS → TG
   - 인증 → 시세 조회 → 잔고 확인

2. **거래 루프 (단일 사이클)**
   - 시세 조회 → 신호 생성 → 주문 → 체결 → Excel 업데이트

3. **매수 주문 플로우**
   - Tier 1 갱신 → 매수 조건 확인 → 배치 생성 → 주문 → 체결

4. **매도 주문 플로우**
   - 매도 조건 확인 → 배치 생성 → 주문 → 수익 계산

5. **에러 처리 플로우**
   - Rate Limiting → 토큰 갱신 → 네트워크 에러 → 재시도

6. **Excel 저장 플로우**
   - 데이터 준비 → 영역 업데이트 → 저장 → 재시도 로직

7. **시스템 종료 플로우**
   - 시그널 핸들러 → 상태 저장 → KIS 연결 해제 → 종료

8. **Tier 1 갱신 결정 트리**
   - 설정 확인 → 포지션 확인 → 가격 비교 → 갱신

9. **거래 시간 관리 (Gantt)**
   - 24시간 운영 사이클 시각화

10. **배치 주문 vs 개별 주문 비교**
    - 슬리피지 위험 vs 가격 일관성

11. **체결 확인 폴링 타임라인 (Gantt)**
    - 10회 × 2초 = 20초 프로세스

12. **수익 실현 전체 플로우**
    - 투자 → 매수 → 매도 → 수익 계산 → Tier 1 갱신

**대상 독자**: 기술 리더, 아키텍트, 신규 개발자

---

## 🎯 빠른 시작 가이드

### 문서를 처음 읽는 경우

**추천 순서**:
1. [코드베이스 아키텍처](CODEBASE_ARCHITECTURE.md) - **섹션 1-3** 읽기
   - 시스템 개요, 프로젝트 구조, 핵심 컴포넌트
2. [타임라인 다이어그램](TIMELINE_DIAGRAMS.md) - **다이어그램 1-4** 보기
   - 초기화, 거래 루프, 매수/매도 플로우
3. [실행 시나리오](EXECUTION_SCENARIOS.md) - **시나리오 1** 읽기
   - 첫 실행 및 정상 거래 흐름

### 특정 목적별 가이드

#### 🔧 코드 수정이 필요한 경우
1. [코드베이스 아키텍처](CODEBASE_ARCHITECTURE.md) - **섹션 3** (핵심 컴포넌트)
2. [타임라인 다이어그램](TIMELINE_DIAGRAMS.md) - 해당 컴포넌트 다이어그램
3. 소스 코드 직접 확인 (`src/`)

#### 🐛 버그 디버깅이 필요한 경우
1. [실행 시나리오](EXECUTION_SCENARIOS.md) - **시나리오 4** (에러 복구)
2. [코드베이스 아키텍처](CODEBASE_ARCHITECTURE.md) - **섹션 7** (보안 및 에러 처리)
3. 로그 파일 확인 (`logs/`)

#### 📊 거래 전략 이해가 필요한 경우
1. [코드베이스 아키텍처](CODEBASE_ARCHITECTURE.md) - **섹션 4** (거래 전략 알고리즘)
2. [실행 시나리오](EXECUTION_SCENARIOS.md) - **시나리오 2-3** (급락/갭 상승)
3. [타임라인 다이어그램](TIMELINE_DIAGRAMS.md) - **다이어그램 3-4** (매수/매도)

#### 🚀 시스템 운영이 필요한 경우
1. [실행 시나리오](EXECUTION_SCENARIOS.md) - **시나리오 1, 5** (정상 거래, 장 마감)
2. [코드베이스 아키텍처](CODEBASE_ARCHITECTURE.md) - **부록** (주요 설정값)
3. `PRE_TRADING_CHECKLIST.md` 확인

---

## 📊 문서 통계

| 항목 | 수량 |
|------|------|
| 총 문서 | 4개 (README 포함) |
| 총 라인 수 | 1,500+ 줄 |
| 다이어그램 | 12개 (Mermaid) |
| 시나리오 | 6개 (실전 시뮬레이션) |
| 컴포넌트 분석 | 5개 (상세) |
| 코드 예시 | 100+ 개 |

---

## 🔗 외부 문서 링크

### 기존 프로젝트 문서
- `BUILD_AND_DEPLOY_GUIDE.md` - 빌드 및 배포 가이드
- `EXE_DEPLOYMENT_QUICK_START.md` - EXE 배포 빠른 시작
- `PRE_TRADING_CHECKLIST.md` - 거래 전 체크리스트
- `USER_QUICK_START_GUIDE.md` - 사용자 빠른 시작 가이드

### 기술 문서 (docs/)
- `DELIVERY_CHECKLIST.md` - 배포 체크리스트
- `DELIVERY_TEST_REPORT.md` - 배포 테스트 리포트
- `DEPLOYMENT_FIX_PLAN.md` - 배포 수정 계획
- `FIX_LIMIT_ORDER_CHANGE.md` - 지정가 주문 변경 사항

### API 문서
- [한국투자증권 REST API 문서](https://apiportal.koreainvestment.com/)
- [Telegram Bot API](https://core.telegram.org/bots/api)

---

## 📝 문서 버전 관리

| 버전 | 일자 | 변경 내용 |
|------|------|-----------|
| v1.0 | 2026-01-24 | 초기 문서 작성 (아키텍처, 시나리오, 다이어그램) |

---

## 🤝 기여 가이드

문서 개선 제안:
1. 오타, 잘못된 정보 수정
2. 새로운 시나리오 추가
3. 다이어그램 개선
4. 코드 예시 추가

**문서 스타일 가이드**:
- 제목: `# 제목 (H1)`, `## 제목 (H2)`
- 코드 블록: 언어 명시 (```python, ```json, ```http)
- 강조: `**굵게**`, `*기울임*`, `**_굵은 기울임_**`
- 목록: `-` (비순서), `1.` (순서)
- 표: Markdown 테이블 사용

---

## 📧 문의

- **GitHub Issues**: [프로젝트 이슈 페이지]
- **Email**: [프로젝트 관리자 이메일]
- **Slack**: [팀 채널]

---

**문서 작성**: AI Agent (Claude Code)
**프로젝트**: Phoenix Trading System v4.1
**최종 업데이트**: 2026-01-24

